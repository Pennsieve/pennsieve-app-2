<link rel="import" href="../../../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../../styles/blackfynn/main.html">
<link rel="import" href="../bf-box-chart/bf-box-chart.html">

<script src="../../../../../bower_components/d3/d3.min.js"></script>
<script src="../../../../../bower_components/plottable/plottable.js"></script>

<!-- <script src="//cdnjs.cloudflare.com/ajax/libs/d3/4.5.0/d3.js"></script> -->
<!-- <script src="../plottable.js"></script> -->

<!--
## bf-chart-wrap

`<bf-chart-wrap>` is a component to display an individual package.

## Chart table layout

```
|----------------------------|      A: yAxis
|   |                        |      B: eventPlots
| A |          B             |      C: xAxis
|   |                        |      D: overviewPlots
|---|------------------------|
|   |          C             |
|   |------------------------|
|   |                        |
|   |          D             |
|   |                        |
|----------------------------|
```
@demo
-->

<dom-module id="bf-chart-wrap">

  <template>
    <style include="blackfynn-main-styles"></style>

    <bf-box-chart
      category="Device detections"
      chart-info></bf-box-chart>

    <bf-box-chart
      category="Other detections"
      chart-info></bf-box-chart>

  </template>

  <script>

    Polymer({
      is: 'bf-chart-wrap',
      properties: {
        charts: {
          type: Array,
          value: function() {
            return [];
          }
        }
      },

      listeners: {
        'update-count': 'updateCount'
      },

      attached: function() {
        this.set('charts', Polymer.dom(this.root).querySelectorAll('bf-box-chart'));
      },

      updateCount: function(e, detail) {
        const charts = this.charts;
        for (let i = 0; i < charts.length; i++) {
          charts[i].updateInfo(false, detail.domain);
        }
      }
    });

  </script>
</dom-module>
