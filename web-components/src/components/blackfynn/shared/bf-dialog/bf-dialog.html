<link rel="import" href="../../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../../bower_components/paper-dialog-behavior/paper-dialog-behavior.html">
<link rel="import" href="../../../../../bower_components/paper-spinner/paper-spinner-lite.html">

<link rel="import" href="../../../../styles/blackfynn/icons.html">
<link rel="import" href="../../../../styles/blackfynn/main.html">

<!--
## bf-dialog

`<bf-dialog>` is a general dialog that has a standard layout:
- header
- navigation
- body
- buttons
- footer

`bf-dialog` utilizes `Polymer.PaperDialogBehavior` under the hood with Blackfynn branding. All
current APIs supported by `PaperDialogBehavior` are supported by `bf-dialog`.

In addition, `bf-dialog` supports a `.no-padding` class which will remove the default 20px padding from
the dialog as well as auto-scrolling the body content once it exceeds a max-height of 400px.

@element bf-dialog
@demo demo/index.html
-->
<dom-module id="bf-dialog">

  <template>
    <style include="blackfynn-main-styles"></style>
    <style>
      :host {
        background: #fff;
        border: solid 1px transparent;
        border-radius: 5px;
        box-shadow: none;
        font-family: 'FiraSans', sans-serif;
        max-height: 600px;
        min-height: 200px;
        max-width: 600px;
        min-width: 400px;
        padding: 0;
      }

      .icon-close-panel {
        color: var(--glial);
        cursor: pointer;
        height: 12px;
        position: absolute;
        right: 30px;
        top: 25px;
        width: 12px;
        z-index: 2;
      }

      ::content h2,
      ::slotted(h2) {
        font-size: 18px;
        line-height: 22px;
        margin: 20px 30px 30px 30px;
      }

      ::content [slot="navigation"],
      ::slotted([slot="navigation"]) {
        margin: 0 30px 20px 30px;
      }

      ::content [slot="body"],
      ::slotted([slot="body"]) {
        padding: 0 30px;
      }

      ::content [slot="body"][scrolling],
      ::slotted([slot="body"][scrolling]) {
        max-height: 400px;
        overflow-x: hidden;
        overflow-y: auto;
      }

      :host(.no-padding) ::content [slot="body"],
      :host(.no-padding) ::slotted([slot="body"]) {
        padding: 0
      }

      .dialog-buttons {
        @apply(--layout-start);
      }

      ::content [slot="buttons"],
      ::slotted([slot="buttons"]) {
          margin: 30px;
      }

      ::content [slot="footer"],
      ::slotted([slot="footer"]) {
        box-shadow: inset 0 1px 0 0 var(--cortex);
        font-size: 11px;
        left: -24px;
        padding: 0 24px;
        position: relative;
        width: 100%;
      }

      :host(.no-padding) ::content [slot="footer"],
      :host(.no-padding) ::slotted([slot="footer"]) {
        padding: 0;
      }

      ::content [slot="footer"] a,
      ::slotted([slot="footer"]) a {
        display: inline-block;
        margin-top: 20px;
        color: var(--synapse);
      }

      ::content [slot="footer"] a:hover,
      ::slotted([slot="footer"]) a:hover {
        text-decoration: none;
      }

      paper-spinner-lite {
        margin-left: 30px;
      }
    </style>

    <div id="dialog">
      <slot name="heading"></slot>

      <slot name="navigation"></slot>

      <slot name="body"></slot>

      <div class="dialog-buttons">
        <slot name="buttons"></slot>
        <paper-spinner-lite
          hidden$="[[!processing]]"
          active$="[[processing]]"></paper-spinner-lite>
      </div>

      <slot name="footer"></slot>

      <iron-icon icon="blackfynn:close_x" class="icon-close-panel" dialog-dismiss></iron-icon>
    </div>
  </template>

  <script>
    Polymer({
      is: 'bf-dialog',

      behaviors: [
        Polymer.PaperDialogBehavior
      ],

      properties: {
        /* determines iron-overlay-backdrop visibility when dialog is open */
        withBackdrop: {
          type: Boolean,
          value: true
        },
        /* determines whether or not form is being processed */
        processing: {
          type: Boolean,
          value: false
        },
      },

    });
  </script>

</dom-module>
