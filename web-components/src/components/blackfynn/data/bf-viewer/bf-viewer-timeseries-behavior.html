<link rel="import" href="../../../../../bower_components/polymer/polymer.html">

<script>
  window.Blackfynn = window.Blackfynn || {};
  /**
  * @polymerBehavior
  */

  Blackfynn.ViewerTimeseriesBehavior = {

    listeners: {
      'channelHoverChange': '_hoverUpdate',
      'channelRankChangeInViewer': '_rankUpdateInMenu',
    },
    _rankUpdateInMenu: function(e) {
      let sidePanel = this.$.sidePanel;
      let channelPanel = sidePanel.$.channelList;
      channelPanel.rerenderList();

    },

    _hoverUpdate: function(e) {
      let isHover = e.detail.hover;
      let channelId = e.detail.channelId;
      for(let i=0; i<this.activeViewer.channelConfig.length; i++) {
        if (this.activeViewer.channelConfig[i].id === channelId) {
            this.activeViewer.set('channelConfig.' + i + '.hover', isHover);
          break;
        }
      }
      this.activeViewer.$.viewer.renderAll();
    }

  }
</script>
