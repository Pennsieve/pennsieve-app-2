<link rel="import" href="../../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../../shared/bf-input/bf-input.html">
<link rel="import" href="../../shared/bf-select-menu/bf-select-menu.html">
<link rel="import" href="../bf-dialog/bf-dialog.html">

<link rel="import" href="../../../../styles/blackfynn/icons.html">
<link rel="import" href="../../../../styles/blackfynn/main.html">

<!--

-->
<dom-module id="bf-layer-delete-window">

  <template>
    <style include="blackfynn-main-styles"></style>

    <style>
      h4 {
        font-weight: bold;
      }

      iron-icon {
        color: red;
        height: 32px;
        margin-bottom: 10px;
        width: 32px;
      }

      .text-center {
        text-align: center;
      }

      paper-button.cancel {
        margin-right: 10px;
      }

      paper-button.delete {
        background: var(--dopamine);
        border-color: var(--dopamine);
      }
    </style>

    <bf-dialog id="dialog" opened="{{opened}}" processing="[[processing]]">
      <div slot="body" class="text-center" style="margin-top: 57px;">
        <iron-icon icon="blackfynn:warning-circle"></iron-icon>
        <h4>Delete Layer</h4>
        <p>
          Are you sure you want to delete this layer?
          This will remove any associated annotations and  <strong>can not be undone.</strong>
        </p>
      </div>

      <div slot="buttons" class="text-center">
        <paper-button
          class="cancel"
          noink
          on-tap="handleFormCancel">Cancel</paper-button>
        <paper-button
          class="delete"
          noink
          on-tap="handleDeleteConfirmation">Delete</paper-button>
      </div>
    </bf-dialog>
  </template>

  <script>
    Polymer({
      is: 'bf-layer-delete-window',

      properties: {
        /**
         * Layer
         */
        layer: {
          type: Object,
          value: function() {
            return {
              name: '',
              id: '',
              color: ''
            }
          }
        },
        /**
         * If the request is being processed
         */
         processing: {
          type: Boolean,
          value: false
        },
        /**
         * If the window is open
         */
         opened: {
          type: Boolean,
          value: false
        },
      },

      /**
      * Delete confirmation callback
      * @param {Object} evet
      */
      handleDeleteConfirmation: function(evt) {
       // delete layer
       this.fire('delete-layer', { layer: this.layer })
       this.$.dialog.close()
      },

      /**
      * Cancel layer deletion callback
      */
      handleFormCancel: function() {
        this.$.dialog.close()
      },
    });
  </script>

</dom-module>
