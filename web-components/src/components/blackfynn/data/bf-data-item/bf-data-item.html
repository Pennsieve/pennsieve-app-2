<link rel="import" href="../../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../../bower_components/iron-flex-layout/iron-flex-layout.html">

<link rel="import" href="../item-label.html">
<link rel="import" href="../bf-data-size-formatting-behavior.html">
<link rel="import" href="../../../../styles/blackfynn/main.html">
<link rel="import" href="../../../../styles/blackfynn/data-item.html">
<link rel="import" href="../../../../styles/blackfynn/icons.html">
<link rel="import" href="../../shared/filetype-mapper-behavior.html">
<link rel="import" href="../bf-data-behavior/bf-data-behavior.html">
<link rel="import" href="../../../../vendor-scripts.html">
<!--
## bf-data-item

`<bf-data-item>` is a component to display an individual package.

@demo
-->

<dom-module id="bf-data-item">

  <template>
    <style include="blackfynn-main-styles"></style>
    <style include="bf-data-item-styles"></style>
    <style type="text/css">
    :host {
      background-color: inherit;
      cursor: pointer;
      padding: 12px 0 11px 30px;
      border-bottom: 1px solid rgb(200,200,200);
      @apply(--layout-horizontal);
      @apply(--layout-center);
    }

    :host([in-ts-annotation]) {
      border-color: var(--cortex);
      padding: 8px 10px 8px 20px;
    }
    :host([hidden]) {
      display: none;
    }
    :host([is-selected]), :host(:hover) {
      background-color: rgba(99,102,110,0.06);
    }
    :host([_disabled]) {
      background-color: inherit !important;
      cursor: default;
      opacity: .7
    }
    :host(.error) {
      background: #efd5d5;
      transition: background-color .5s;
    }
    :host(.item) {
      @apply(--item);
    }
    :host.item:hover {
      @apply(--item-hover);
    }
    :host.converting {
      opacity: .5;
    }
    :host(.drag-over){
      border-left: 5px solid var(--neuron);
    }
    .icon-package-attached {
      color: var(--nucleus);
      height: 18px;
      width: 18px;
    }
    </style>

    <div class="col col-name">
      <blackfynn-data-item-label
        id="itemLabel"
        data="[[data]]"
        is-editing="[[isEditing]]"
        is-hovering$="[[isHovering]]">
      </blackfynn-data-item-label>
    </div>
    <template is="dom-if" if="[[showAttachmentIcon]]">
      <div class="col col-annotation-attachment">
        <iron-icon
          class="icon-package-attached"
          icon="blackfynn:done-circle"></iron-icon>
      </div>
    </template>
    <div class="col col-state" hidden$="[[hideColumns]]">
      <template is="dom-if" if="{{_showPackageState}}"><span class="state">[[_packageState]]</span>
      </template>
    </div>
    <div class="col col-created" hidden$="[[hideColumns]]">[[_createdDetails]]</div>
    <div class="col col-details" hidden$="[[hideColumns]]">[[_packageDetails]]</div>
    <div class="col col-details" hidden$="[[hideColumns]]">[[_storageDetails]]</div>
  </template>

  <script>

    Polymer({
      is: 'bf-data-item',

      behaviors:[
        Blackfynn.FileTypeMapperBehavior,
        Blackfynn.DataBehavior,
        Blackfynn.DataSizeFormattingBehavior
      ],

    });

  </script>
</dom-module>
