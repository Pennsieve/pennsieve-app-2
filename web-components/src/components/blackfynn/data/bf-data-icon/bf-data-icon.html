<link rel="import" href="../../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../../bower_components/iron-flex-layout/iron-flex-layout.html">

<link rel="import" href="../../../../styles/blackfynn/main.html">
<link rel="import" href="../../../../styles/blackfynn/data-item.html">
<link rel="import" href="../../../../styles/blackfynn/icons.html">
<link rel="import" href="../../shared/filetype-mapper-behavior.html">
<link rel="import" href="../../shared/item-icon-behavior.html">
<link rel="import" href="../../shared/bf-tooltip/bf-tooltip.html">
<link rel="import" href="../bf-data-behavior/bf-data-behavior.html">

<!--
## bf-data-icon

`<bf-data-icon>` is a component to display an individual package icon or preview image.

@demo
-->

<dom-module id="bf-data-icon">

  <template>
    <style include="blackfynn-main-styles"></style>
    <style include="bf-data-item-styles"></style>
    <style type="text/css">
      :host {
        background-color: inherit;
        cursor: pointer;
        display: block;
        text-align: center;
        padding: 30px 0;
      }
      :host([hidden]) {
        display: none;
      }
      :host([is-selected]), :host(:hover) {
        background-color: rgba(99,102,110,0.06);
      }
      :host([_disabled]) {
        background-color: inherit !important;
        cursor: default;
        opacity: .7
      }
      :host(.error) {
        background: #efd5d5;
        transition: background-color .5s;
      }
      :host(.item) {
        @apply(--item);
      }
      :host.item:hover {
        @apply(--item-hover);
      }
      :host.converting {
        opacity: .5;
      }
      :host(.drag-over){
        border-left: 5px solid var(--neuron);
      }
      iron-icon {
        width: 50px;
        height: 50px;
      }
    </style>

    <img
      id="dataIcon"
      src$="[[_computeIcon(data)]]"
      class="icon-item"
      on-tap="_onOpenItem">

    <bf-tooltip
      for="dataIcon"
      offset="0">[[data.content.name]]</bf-tooltip>
  </template>

  <script>
    Polymer({
      is: 'bf-data-icon',
      behaviors:[
        Blackfynn.ItemIconBehavior,
        Blackfynn.FileTypeMapperBehavior,
        Blackfynn.DataBehavior
      ]
    });
  </script>
</dom-module>
